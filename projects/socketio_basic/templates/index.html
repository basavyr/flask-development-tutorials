{% extends "base.html" %} {% block title %}Index{% endblock %} {% block body %}
<h1>This is the index page</h1>

<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript">
  $(document).ready(function () {
    // var socket = io.connect("http://127.0.0.1:5000");
    var socket = io();

    socket.on("connect", function () {
      socket.send("User has connected!");
      socket.emit("test", "User has connected!");
    });

    socket.on("message", function (msg) {
      $("#messages").append("<li>" + msg + "</li>");
      console.log("This is from the server: " + msg);
    });

    socket.emit("test", "Hello from the client!");
    socket.emit("test", "Hello from the client!");

    $("#button").on("click", function () {
      socket.send($("#myMessage").val());
      $("#myMessage").val("");
    });
  });
</script>
<ul id="messages"></ul>
<input type="text" id="myMessage" />
<button id="button">Send</button>

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"
  integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA=="
  crossorigin="anonymous"
></script>
<script type="text/javascript" charset="utf-8">
  var socket = io();
  //   socket.on("connect", function () {
  //     console.log("connected");
  //     socket.emit("my event", { data: "I'm connected!" });
  //   });
  socket.on("message", function (data) {
    console.log(data);
  });
</script>
<script src="static/js/application.js"></script>

{% endblock %}
